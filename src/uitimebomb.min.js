/*!
 * uiTimeBomb v1.0.0
 *
 * @author Patrick Purcell
 * @copyright Copyright (c) 2016 WCP Digital
 * @license http://opensource.org/licenses/MIT
 * @link http://www.wcpdigital.com.au
 * @link http://patrickpurcell.bio
 *
 * Date: 2016-08-23
 */
"use strict";function uiTimeBomb(a){var b=this,d={elements:[],date:new Date,padNumbers:!1,mode:"years",format:"{y} years, {m} months, {d} days, {h} hours, {i} minutes, {s} seconds",localTime:!0,onStart:null,onUpdate:null,onComplete:null},e=null,f=0,h=function(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a})},k=function(a){return d.date=a,b},l=function(){return d.date},m=function(a){var b=0,c=0,d=0,e=0,g=0,h=0,i=f;switch(String(a).toLowerCase()){default:case"years":b=Math.floor(i/31536e3),i-=31536e3*b;case"months":c=Math.floor(i/2592e3),i-=2592e3*c;case"days":d=Math.floor(i/86400),i-=86400*d;case"hours":e=Math.floor(i/3600),i-=3600*e;case"minutes":g=Math.floor(i/60),i-=60*g;case"seconds":h=Math.floor(i)}return{y:b,m:c,d:d,h:e,i:g,s:h}},n=function(){return d.onStart&&d.onStart(b)},o=function(){if(d.elements)for(var a=m(d.mode),b=h(d.format,a),c=0,e=null,f=d.elements.length;c<f;c++)e=d.elements[c],void 0!==e.innerHTML&&(e.innerHTML=b)},p=function(){var a=d.localTime?60*d.date.getTimezoneOffset():0,c=d.date.getTime(),g=(new Date).getTime();return f=.001*(c-g)+a,f<=0?(f=0,o(),d.onUpdate&&d.onUpdate(b),clearInterval(e),q()):(o(),d.onUpdate&&d.onUpdate(b))},q=function(){return d.onComplete&&d.onComplete(b)},r=function(a){b.get=m,b.setDate=k,b.getDate=l,b.supplant=h,a&&(d=b.wash(d,a),b.isArray(d.elements)||(d.elements=[d.elements])),n(),e=setInterval(function(){p()},1e3),p()};r(a)}uiTimeBomb.prototype.constructor=uiTimeBomb,uiTimeBomb.prototype.wash=function(a,b){for(var c in b)b.hasOwnProperty(c)&&a.hasOwnProperty(c)&&(a[c]=b[c]);return a},uiTimeBomb.prototype.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};